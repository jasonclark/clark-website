<?php
//get and set url protocol
$protocol = (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] !== 'off' || $_SERVER['SERVER_PORT'] == 443) ? 'https://' : 'http://';
//set and sanitize global variables for URL construction
$server = isset($_SERVER['SERVER_NAME']) ? htmlentities(strip_tags($_SERVER['SERVER_NAME'])) : null;
$path = isset($_SERVER['PHP_SELF']) ? htmlentities(strip_tags(dirname($_SERVER['PHP_SELF']))) : null;
$fileName = isset($_SERVER['SCRIPT_NAME']) ? htmlentities(strip_tags(basename($_SERVER['SCRIPT_NAME']))) : null;
$fileNameURI = isset($_SERVER['REQUEST_URI']) ? htmlentities(strip_tags($_SERVER['REQUEST_URI'])) : null;
$fileExtension = isset($_SERVER['PATH_INFO']) ? pathinfo($fileName, PATHINFO_EXTENSION) : null;

//assign value for title of page, limit to 60-70 characters
$pageTitle = 'Offline - Jason A. Clark';
//assign value for description of page, limit to 155 charcters
$pageDescription = 'Offline page for Jason A. Clark\'s website noting when network is unavailable';
//get file last modified date for use in Schema.org date properties
$pageLastModified = date ('c', getlastmod());
?>
<!doctype html>
<html lang="en-US" id="page" prefix="og: http://ogp.me/ns#" vocab="http://schema.org/" typeof="WebPage" resource="<?php echo $protocol.$server.$path.'/'.$fileName; ?>#page">
<head>
<meta charset="utf-8"/>
<meta http-equiv="x-ua-compatible" content="ie=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title><?php echo $pageTitle; ?></title>
<meta name="description" content="<?php echo $pageDescription; ?>"/>
<meta property="og:title" content="<?php echo $pageTitle; ?>"/>
<meta property="og:description" content="<?php echo $pageDescription; ?>"/>
<meta property="og:image" content="https://www.lib.montana.edu/~jason/meta/img/clark-share-default.png"/>
<meta property="og:url" content="https://www.lib.montana.edu/~jason/"/>
<meta property="og:type" content="website"/>
<meta name="twitter:creator" property="og:site_name" content="@jaclark"/>
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:site" content="http://www.jasonclark.info"/>
<link rel="apple-touch-icon" type="image/png" href="./meta/img/manifest.png"/>
<link rel="icon" type="image/x-icon" href="./favicon.ico"/>
<link rel="canonical" href="<?php echo $protocol.$server.$path.'/'.$fileName; ?>"/>
<link rel="meta" type="application/rdf+xml" title="FOAF" href="<?php echo $protocol.$server.$path; ?>/foaf.rdf"/>
<link rel="search" type="application/opensearchdescription+xml" href="<?php echo $protocol.$server.$path; ?>/opensearch.xml" title="Search - Jason A. Clark"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-title" content="ClarkWeb"/>
<link rel="manifest" href="./manifest.json"/>
<link rel="stylesheet" href="./meta/styles/global.css"/>
</head>
<body>
<div class="app" property="mainContentOfPage">
<?php 
include './meta/inc/header.html';
?>
<main id="work" role="main" property="mainEntity" typeof="CreativeWork" resource="<?php echo $protocol.$server.$path.'/'.$fileName; ?>#work">
<div class="content" property="text">
<section aria-label="main content">
	<h1 property="alternativeHeadline name"><?php echo $pageTitle; ?></h1>
	<h2>Whoops! The network is unavailable and this page is offline.</h2>
	<p property="about description">If you’re seeing this, you likely got here because your browser supports <a href="http://www.w3.org/TR/service-workers/">Service Workers</a>, a web standard that helps me make things better for you when you don’t have an Internet connection. That means that it’s likely that at least some of this site’s content is available to you, even offline.</p>
<p><a href="index.html">Try again from the home page</a>?</p>
</section>
</div>
</main>
<?php 
include './meta/inc/footer.html';
?>
</div>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'ADD-GOOGLE-ANALYTICS-ID-HERE', 'auto');
        ga('send', 'pageview');
</script>
</body>
</html>
